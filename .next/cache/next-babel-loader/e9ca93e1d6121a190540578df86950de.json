{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { Card, DatePicker, ChoiceList } from '@shopify/polaris';\nimport { useCallback, useState, useEffect } from 'react';\n\nfunction Choose(props) {\n  const {\n    0: selected,\n    1: setSelected\n  } = useState(['always']);\n  const handleChange = useCallback(value => setSelected(value), []);\n  const renderDatePicker = useCallback(isSelected => isSelected && __jsx(Schedule, {\n    handleTimeSetting: props.handleTimeSetting\n  }));\n  return __jsx(ChoiceList, {\n    choices: [{\n      label: 'Always display',\n      value: 'always'\n    }, {\n      label: 'Only display within the giving period of time',\n      value: 'scheduled',\n      renderChildren: renderDatePicker\n    }],\n    selected: selected,\n    onChange: handleChange\n  });\n}\n\n;\n\nfunction SelectTime(props) {\n  return __jsx(\"div\", {\n    style: {\n      margin: '1em 0'\n    }\n  }, __jsx(\"div\", null, \"Please enter the hour (from 0 to 23) and minute (from 0 to 59) that the display \", __jsx(\"strong\", null, \"starts\"), \":\"), __jsx(\"div\", {\n    style: {\n      marginTop: '.5em'\n    }\n  }, __jsx(\"span\", {\n    style: {\n      marginRight: '.3em'\n    }\n  }, \"Hour:\"), __jsx(\"input\", {\n    id: \"start_hour\",\n    type: \"number\",\n    min: 0,\n    max: 23,\n    style: {\n      marginRight: '1em'\n    }\n  }), __jsx(\"span\", {\n    style: {\n      marginRight: '.3em'\n    }\n  }, \"Minute:\"), __jsx(\"input\", {\n    id: \"start_min\",\n    type: \"number\",\n    min: 0,\n    max: 59\n  })), __jsx(\"div\", {\n    style: {\n      marginTop: '.5em'\n    }\n  }, \"Please enter the hour (from 0 to 23) and minute (from 0 to 59) that the display \", __jsx(\"strong\", null, \"ends\"), \":\"), __jsx(\"div\", {\n    style: {\n      marginTop: '.5em'\n    }\n  }, __jsx(\"span\", {\n    style: {\n      marginRight: '.3em'\n    }\n  }, \"Hour:\"), __jsx(\"input\", {\n    id: \"end_hour\",\n    type: \"number\",\n    min: 0,\n    max: 23,\n    style: {\n      marginRight: '1em'\n    }\n  }), __jsx(\"span\", {\n    style: {\n      marginRight: '.3em'\n    }\n  }, \"Minute:\"), __jsx(\"input\", {\n    id: \"end_min\",\n    type: \"number\",\n    min: 0,\n    max: 59\n  })));\n}\n\nfunction Schedule(props) {\n  const {\n    0: {\n      month,\n      year\n    },\n    1: setDate\n  } = useState({\n    month: 9,\n    year: 2019\n  });\n  const {\n    0: selectedDates,\n    1: setSelectedDates\n  } = useState({\n    start: new Date(),\n    end: new Date()\n  });\n  const {\n    0: {\n      leftMon,\n      rightMon\n    },\n    1: setMonth\n  } = useState({\n    leftMon: month + 1,\n    rightMon: month + 2\n  });\n  const handleMonthChange = useCallback((month, year) => {\n    setDate({\n      month,\n      year\n    });\n    setMonth({\n      leftMon: month + 1,\n      rightMon: month + 2\n    });\n  }, []);\n\n  const transpileMonth = month => {\n    month = '' + month;\n\n    switch (month) {\n      case '1':\n        return 'January';\n        break;\n\n      case '2':\n        return 'Feburary';\n        break;\n\n      case '3':\n        return 'March';\n        break;\n\n      case '4':\n        return 'April';\n\n      case '5':\n        return 'May';\n\n      case '6':\n        return 'June';\n\n      case '7':\n        return 'July';\n\n      case '8':\n        return 'August';\n\n      case '9':\n        return 'September';\n\n      case '10':\n        return 'October';\n\n      case '11':\n        return 'November';\n\n      case '12':\n        return 'December';\n\n      case '13':\n        return 'January';\n    }\n  };\n\n  const {\n    0: {\n      start_h,\n      start_m\n    },\n    1: setStartTime\n  } = useState({\n    start_h: 0,\n    start_m: 0\n  });\n  const {\n    0: {\n      end_h,\n      end_m\n    },\n    1: setEndTime\n  } = useState({\n    end_h: 0,\n    end_m: 0\n  });\n\n  const handleTimeSelection = () => {\n    const startH = document.getElementById('start_hour'),\n          startM = document.getElementById('start_min'),\n          endH = document.getElementById('end_hour'),\n          endM = document.getElementById('end_min');\n    let startT = {},\n        endT = {};\n    startH.addEventListener('change', function (e) {\n      let num = e.target.valueAsNumber;\n      num > 23 ? startT.hour = 23 : num < 0 ? startT.hour = 0 : startT.hour = num;\n      setStartTime({\n        start_m,\n        start_h: startT.hour\n      });\n    });\n    startM.addEventListener('change', function (e) {\n      let num = e.target.valueAsNumber;\n      num > 59 ? startT.min = 59 : num < 0 ? startT.min = 0 : startT.min = num;\n      setStartTime({\n        start_h,\n        start_m: startT.min\n      });\n    });\n    endH.addEventListener('change', function (e) {\n      let num = e.target.valueAsNumber;\n      num > 23 ? endT.hour = 23 : num < 0 ? endT.hour = 0 : endT.hour = num;\n      setEndTime({\n        end_m,\n        end_h: endT.hour\n      });\n    });\n    endM.addEventListener('change', function (e) {\n      let num = e.target.valueAsNumber;\n      num > 59 ? endT.min = 59 : num < 0 ? endT.min = 0 : endT.min = num;\n      setEndTime({\n        end_h,\n        end_m: endT.min\n      });\n    });\n  };\n\n  useEffect(() => {\n    let startD = new Date(selectedDates.start);\n    let endD = new Date(selectedDates.end);\n    handleTimeSelection();\n    startD = startD.getFullYear() + '/' + (startD.getMonth() + 1) + '/' + startD.getDate() + ' ' + start_h + ':' + start_m;\n    endD = endD.getFullYear() + '/' + (endD.getMonth() + 1) + '/' + endD.getDate() + ' ' + end_h + ':' + end_m;\n    props.handleTimeSetting({\n      start: startD,\n      end: endD\n    });\n  }, [selectedDates, start_h, start_m, end_h, end_m]);\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      justifyContent: 'stretch'\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '50%',\n      textAlign: 'center'\n    }\n  }, transpileMonth(leftMon)), __jsx(\"div\", {\n    style: {\n      width: '50%',\n      textAlign: 'center'\n    }\n  }, transpileMonth(rightMon))), __jsx(DatePicker, {\n    month: month,\n    year: year,\n    onChange: setSelectedDates,\n    onMonthChange: handleMonthChange,\n    selected: selectedDates,\n    multiMonth: true,\n    allowRange: true\n  }), __jsx(SelectTime, null));\n}\n\nclass DisplaySchedule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return __jsx(Card.Section, null, __jsx(\"div\", {\n      style: {\n        marginBottom: '1em',\n        fontSize: '1.1em'\n      }\n    }, \"Display schedule:\"), __jsx(Choose, {\n      handleTimeSetting: this.props.handleTimeSetting\n    }), __jsx(\"div\", null, \"Define the Start Time and End Time of the display period. Must select at least two days.\"));\n  }\n\n}\n\nexport default DisplaySchedule;","map":{"version":3,"sources":["C:\\Users\\Administrator.SC-201903211547\\projects\\0919\\sample-embedded-app\\snippets\\displaySchedule.js"],"names":["Card","DatePicker","ChoiceList","useCallback","useState","useEffect","Choose","props","selected","setSelected","handleChange","value","renderDatePicker","isSelected","handleTimeSetting","label","renderChildren","SelectTime","margin","marginTop","marginRight","Schedule","month","year","setDate","selectedDates","setSelectedDates","start","Date","end","leftMon","rightMon","setMonth","handleMonthChange","transpileMonth","start_h","start_m","setStartTime","end_h","end_m","setEndTime","handleTimeSelection","startH","document","getElementById","startM","endH","endM","startT","endT","addEventListener","e","num","target","valueAsNumber","hour","min","startD","endD","getFullYear","getMonth","getDate","display","flexFlow","justifyContent","width","textAlign","DisplaySchedule","React","Component","constructor","state","render","marginBottom","fontSize"],"mappings":"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","sourcesContent":["import {Card, DatePicker, ChoiceList} from '@shopify/polaris';\r\nimport {useCallback, useState, useEffect}  from 'react';\r\n\r\nfunction Choose(props){\r\n  const [selected, setSelected] = useState(['always']);\r\n\r\n  const handleChange = useCallback((value) => setSelected(value), []);\r\n\r\n  const renderDatePicker = useCallback(\r\n    (isSelected) =>\r\n      isSelected && (\r\n        <Schedule handleTimeSetting={props.handleTimeSetting}/>\r\n      )\r\n  )\r\n\r\n  return (\r\n    <ChoiceList\r\n      choices={[\r\n        {label: 'Always display', value: 'always'},\r\n        {label: 'Only display within the giving period of time', value: 'scheduled',renderChildren:renderDatePicker},\r\n      ]}\r\n      selected={selected}\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n};\r\n\r\nfunction SelectTime(props){\r\n  \r\n  return (\r\n    <div style={{margin:'1em 0'}}>\r\n      <div>Please enter the hour (from 0 to 23) and minute (from 0 to 59) that the display <strong>starts</strong>:</div>\r\n      <div style={{marginTop:'.5em'}}>\r\n        <span style={{marginRight:'.3em'}}>Hour:</span>\r\n        <input id=\"start_hour\" type='number' min={0} max={23}  style={{marginRight:'1em'}}/>\r\n        <span style={{marginRight:'.3em'}}>Minute:</span>\r\n        <input id=\"start_min\" type='number' min={0} max={59}/>\r\n      </div>\r\n      <div style={{marginTop:'.5em'}}>Please enter the hour (from 0 to 23) and minute (from 0 to 59) that the display <strong>ends</strong>:</div>\r\n      <div style={{marginTop:'.5em'}}>\r\n        <span style={{marginRight:'.3em'}}>Hour:</span>\r\n        <input id=\"end_hour\" type='number' min={0} max={23}  style={{marginRight:'1em'}}/>\r\n        <span  style={{marginRight:'.3em'}}>Minute:</span>\r\n        <input id=\"end_min\" type='number' min={0} max={59}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Schedule(props){\r\n  const [{ month, year }, setDate] = useState({\r\n    month: 9,\r\n    year: 2019\r\n  });\r\n  const [selectedDates, setSelectedDates] = useState({\r\n    start: new Date(),\r\n    end: new Date()\r\n  });\r\n  const [{leftMon,rightMon},setMonth] = useState({\r\n    leftMon:month+1,\r\n    rightMon:month+2\r\n  })\r\n\r\n  const handleMonthChange = useCallback((month, year) => {\r\n    setDate({ month, year });\r\n    setMonth({leftMon:month+1,rightMon:month+2})\r\n  }, []);\r\n\r\n  const transpileMonth = (month) => {\r\n    month = ''+month;\r\n    switch(month){\r\n      case '1':\r\n        return 'January';\r\n        break;\r\n      case '2':\r\n        return 'Feburary';\r\n        break;\r\n      case '3':\r\n        return 'March';\r\n        break;\r\n      case '4':\r\n        return 'April';\r\n      case '5':\r\n        return 'May';\r\n      case '6':\r\n        return 'June';\r\n      case '7':\r\n        return 'July';\r\n      case '8':\r\n        return 'August';\r\n      case '9':\r\n        return 'September';\r\n      case '10':\r\n        return 'October';\r\n      case '11':\r\n        return 'November';\r\n      case '12':\r\n        return 'December';\r\n      case '13':\r\n        return 'January';\r\n    }\r\n  };\r\n\r\n  const [{start_h,start_m},setStartTime] = useState({\r\n    start_h:0,\r\n    start_m:0\r\n  });\r\n  const [{end_h,end_m},setEndTime] = useState({\r\n    end_h:0,\r\n    end_m:0\r\n  })\r\n\r\n  const handleTimeSelection = () => {\r\n    const startH = document.getElementById('start_hour'),\r\n          startM = document.getElementById('start_min'),\r\n          endH = document.getElementById('end_hour'),\r\n          endM = document.getElementById('end_min');\r\n    let startT={}, endT={};\r\n    startH.addEventListener('change',function(e){\r\n      let num = e.target.valueAsNumber;\r\n      num > 23?\r\n        startT.hour = 23\r\n        :\r\n        num < 0?\r\n          startT.hour = 0\r\n          :\r\n          startT.hour = num;\r\n      setStartTime({start_m,start_h:startT.hour});\r\n    });\r\n    startM.addEventListener('change',function(e){\r\n      let num = e.target.valueAsNumber;\r\n      num > 59?\r\n        startT.min = 59\r\n        :\r\n        num < 0?\r\n          startT.min = 0\r\n          :\r\n          startT.min = num;\r\n      setStartTime({start_h,start_m:startT.min});\r\n    });\r\n    endH.addEventListener('change',function(e){\r\n      let num = e.target.valueAsNumber;\r\n      num > 23?\r\n        endT.hour = 23\r\n        :\r\n        num < 0?\r\n          endT.hour = 0\r\n          :\r\n          endT.hour = num;\r\n      setEndTime({end_m,end_h:endT.hour});\r\n    });\r\n    endM.addEventListener('change',function(e){\r\n      let num = e.target.valueAsNumber;\r\n      num > 59?\r\n        endT.min = 59\r\n        :\r\n        num < 0?\r\n          endT.min = 0\r\n          :\r\n          endT.min = num;\r\n      setEndTime({end_h,end_m:endT.min});\r\n    });\r\n  }\r\n\r\n  useEffect(()=>{\r\n    let startD = new Date(selectedDates.start);\r\n    let endD = new Date(selectedDates.end);\r\n    handleTimeSelection();\r\n    startD = startD.getFullYear()+'/'+(startD.getMonth()+1)+'/'+startD.getDate()+' '+start_h+':'+start_m;\r\n    endD = endD.getFullYear()+'/'+(endD.getMonth()+1)+'/'+endD.getDate()+' '+end_h+':'+end_m;\r\n    props.handleTimeSetting({start:startD,end:endD});\r\n  },[selectedDates,start_h,start_m,end_h,end_m]);\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div style={{display:'flex',flexFlow:'row nowrap',justifyContent:'stretch'}}>\r\n        <div style={{width:'50%',textAlign:'center'}}>{transpileMonth(leftMon)}</div>\r\n        <div style={{width:'50%',textAlign:'center'}}>{transpileMonth(rightMon)}</div>\r\n      </div>\r\n      <DatePicker \r\n      month={month} \r\n      year={year} \r\n      onChange={setSelectedDates} \r\n      onMonthChange={handleMonthChange} \r\n      selected={selectedDates} \r\n      multiMonth={true} \r\n      allowRange={true} \r\n      />\r\n      <SelectTime />\r\n    </div>\r\n  );\r\n}\r\n\r\nclass DisplaySchedule extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={}\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <Card.Section>\r\n        <div style={{marginBottom:'1em',fontSize:'1.1em'}}>Display schedule:</div>\r\n        <Choose handleTimeSetting={this.props.handleTimeSetting}/>\r\n        <div>Define the Start Time and End Time of the display period. Must select at least two days.</div>\r\n      </Card.Section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DisplaySchedule;"]},"metadata":{},"sourceType":"module"}