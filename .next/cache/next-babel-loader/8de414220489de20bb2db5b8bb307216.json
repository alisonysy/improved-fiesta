{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Card, FormLayout, Collapsible, TextContainer } from '@shopify/polaris';\nimport SectionHead from '../snippets/sectionHead';\nimport '../css/mainStyleSheet.css';\nimport { useState } from 'react';\nvar horizontalCodes = \"\\n#ptk_bar {\\n  background: black url(https://cdn.shopify.com/s/files/1/1036/4113/t/33/assets/aramid.jpg?225834);\\n  background-repeat: no-repeat;\\n  background-size: 3000px;\\n  animation: slider 10s infinite alternate;\\n}\\n\\n@-webkit-keyframes slider{\\n  from {\\n    background-size: 2000px;\\n    background-position: left top;\\n  }\\n  to {\\n    background-position: right center;\\n    background-size: 3000px;\\n  }\\n}\\n\\n@-moz-keyframes slider{\\n  from {\\n    background-size: 2000px;\\n    background-position: left top;\\n  }\\n  to {\\n    background-position: right center;\\n    background-size: 3000px;\\n  }\\n}\\n\\n@-o-keyframes slider{\\n  from {\\n    background-size: 2000px;\\n    background-position: left top;\\n  }\\n  to {\\n    background-position: right center;\\n    background-size: 3000px;\\n  }\\n}\\n\\n@keyframes slider{\\n  from {\\n    background-size: 2000px;\\n    background-position: left top;\\n  }\\n  to {\\n    background-position: right center;\\n    background-size: 3000px;\\n  }\\n}\\n\";\nvar verticalCodes = \"\\n#ptk_bar {\\n  background: black url(https://cdn.shopify.com/s/files/1/1036/4113/t/33/assets/aramid.jpg?225834);\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n  animation: slider 7s infinite alternate;\\n}\\n\\n@-webkit-keyframes slider{\\n  from {\\n    background-size: cover;\\n    background-position: center top;\\n  }\\n  to {\\n    background-size: cover;\\n    background-position: center bottom;\\n  }\\n}\\n\\n@-moz-keyframes slider{\\n  from {\\n    background-size: cover;\\n    background-position: center top;\\n  }\\n  to {\\n    background-size: cover;\\n    background-position: center bottom;\\n  }\\n}\\n\\n@-o-keyframes slider{\\n  from {\\n    background-size: cover;\\n    background-position: center top;\\n  }\\n  to {\\n    background-size: cover;\\n    background-position: center bottom;\\n  }\\n}\\n\\n@keyframes slider{\\n  from {\\n    background-size: cover;\\n    background-position: center top;\\n  }\\n  to {\\n    background-size: cover;\\n    background-position: center bottom;\\n  }\\n}\\n\";\n\nfunction TextArea(props) {\n  return __jsx(Card.Section, null, __jsx(\"div\", {\n    style: {\n      fontSize: '16px',\n      padding: '0 0 7px 0',\n      textTransform: 'capitalize'\n    }\n  }, props.type), __jsx(\"div\", {\n    style: {\n      fontSize: '14px',\n      padding: '0 0 4px 0'\n    }\n  }, \"<\", props.type, \">\"), __jsx(\"textarea\", {\n    rows: \"10\",\n    cols: \"80\",\n    placeholder: \"Please put your custom codes here...\",\n    style: {\n      border: '1px solid #bbb',\n      borderRadius: '5px',\n      width: 'calc(100% - 2em)',\n      marginBottom: '5px'\n    },\n    onChange: function onChange(evt) {\n      evt.persist();\n      props.handleCustomCode(evt.nativeEvent.target.value, props.type);\n    },\n    className: \"styleTextarea\"\n  }, props.customCode), __jsx(\"div\", {\n    style: {\n      fontSize: '14px'\n    }\n  }, \"</\", props.type, \">\"));\n}\n\nvar CustomCodePage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CustomCodePage, _React$Component);\n\n  function CustomCodePage(props) {\n    var _this;\n\n    _classCallCheck(this, CustomCodePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CustomCodePage).call(this, props));\n    _this.state = {\n      customCode: '',\n      sectionActive: true\n    };\n    _this.horizontalZoom = React.createRef();\n    _this.verticalScroll = React.createRef();\n    _this.handleCustomCode = _this.handleCustomCode.bind(_assertThisInitialized(_this));\n    _this.injectCodeAfterClicking = _this.injectCodeAfterClicking.bind(_assertThisInitialized(_this));\n    _this.bindClickingEvent = _this.bindClickingEvent.bind(_assertThisInitialized(_this));\n    _this.renderTextFrmProps = _this.renderTextFrmProps.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CustomCodePage, [{\n    key: \"handleCustomCode\",\n    value: function handleCustomCode(val, type) {\n      var self = this;\n      var scriptTxt, styleTxt;\n\n      switch (type) {\n        case 'style':\n          styleTxt = val;\n          break;\n\n        case 'script':\n          scriptTxt = val;\n          break;\n      }\n\n      if (this.state.timer) {\n        clearTimeout(this.state.timer);\n      }\n\n      ;\n      this.setState(function () {\n        var timerN = setTimeout(function () {\n          self.props.handleCustomCode(scriptTxt, styleTxt);\n        }, 5000);\n        return {\n          timer: timerN\n        };\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.bindClickingEvent();\n      this.renderTextFrmProps();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.bindClickingEvent();\n    }\n  }, {\n    key: \"injectCodeAfterClicking\",\n    value: function injectCodeAfterClicking(el, type) {\n      if (!el) return;\n      var self = this;\n      var style = document.querySelector('.styleTextarea');\n      var script = document.querySelector('.scriptTextarea');\n\n      switch (type) {\n        case 'horizontal':\n          style.value = horizontalCodes;\n          self.handleCustomCode(horizontalCodes, 'style');\n          break;\n\n        case 'vertical':\n          style.value = verticalCodes;\n          self.handleCustomCode(verticalCodes, 'style');\n      }\n    }\n  }, {\n    key: \"bindClickingEvent\",\n    value: function bindClickingEvent() {\n      var h_z = this.horizontalZoom.current;\n      var v_s = this.verticalScroll.current;\n      var self = this;\n\n      if (h_z && v_s) {\n        h_z.addEventListener('click', function (e) {\n          self.injectCodeAfterClicking(e.target, 'horizontal');\n        });\n        v_s.addEventListener('click', function (e) {\n          self.injectCodeAfterClicking(e.target, 'vertical');\n        });\n      }\n    }\n  }, {\n    key: \"renderTextFrmProps\",\n    value: function renderTextFrmProps() {\n      var styleArea = document.querySelector('.styleTextarea');\n      var scriptArea = document.querySelector('.scriptTextarea');\n\n      if (this.props.customCode && this.props.customCode.style && this.props.customCode.style.length > 0) {\n        styleArea.value = this.props.customCode.style;\n      }\n\n      if (this.props.customCode && this.props.customCode.script && this.props.customCode.script.length > 0) {\n        scriptArea.value = this.props.customCode.script;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Card, null, __jsx(SectionHead, {\n        handleToggle: function handleToggle(active) {\n          return _this2.setState({\n            sectionActive: active\n          });\n        },\n        headerTxt: \"Custom code\",\n        sectionActive: this.state.sectionActive\n      }), __jsx(Collapsible, {\n        open: this.state.sectionActive\n      }, __jsx(FormLayout, null, __jsx(TextArea, {\n        handleCustomCode: this.handleCustomCode,\n        type: \"style\",\n        customCode: this.props.customCode.style\n      }), __jsx(TextArea, {\n        handleCustomCode: this.handleCustomCode,\n        type: \"script\",\n        customCode: this.props.customCode.script\n      }), __jsx(Card.Section, null, __jsx(TextContainer, null, __jsx(\"div\", null, __jsx(\"span\", {\n        className: \"codeChoices\",\n        ref: this.horizontalZoom\n      }, \"Horizontal Zoom\"), \":Good for displaying a pattern based background image\"), __jsx(\"div\", null, __jsx(\"span\", {\n        className: \"codeChoices\",\n        ref: this.verticalScroll\n      }, \"Vertical Scroll\"), \":A Background image scrolled vertically. Good for showing a product image.\"))))));\n    }\n  }]);\n\n  return CustomCodePage;\n}(React.Component);\n\nexport default CustomCodePage;","map":{"version":3,"sources":["C:\\Users\\Administrator.SC-201903211547\\projects\\0919\\sample-embedded-app\\components\\customCode.js"],"names":["Card","FormLayout","Collapsible","TextContainer","SectionHead","useState","horizontalCodes","verticalCodes","TextArea","props","fontSize","padding","textTransform","type","border","borderRadius","width","marginBottom","evt","persist","handleCustomCode","nativeEvent","target","value","customCode","CustomCodePage","state","sectionActive","horizontalZoom","React","createRef","verticalScroll","bind","injectCodeAfterClicking","bindClickingEvent","renderTextFrmProps","val","self","scriptTxt","styleTxt","timer","clearTimeout","setState","timerN","setTimeout","el","style","document","querySelector","script","h_z","current","v_s","addEventListener","e","styleArea","scriptArea","length","active","Component"],"mappings":"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","sourcesContent":["import { Card, FormLayout, Collapsible, TextContainer } from '@shopify/polaris';\r\nimport SectionHead from '../snippets/sectionHead';\r\nimport '../css/mainStyleSheet.css';\r\nimport { useState } from 'react';\r\n\r\nconst horizontalCodes = `\r\n#ptk_bar {\r\n  background: black url(https://cdn.shopify.com/s/files/1/1036/4113/t/33/assets/aramid.jpg?225834);\r\n  background-repeat: no-repeat;\r\n  background-size: 3000px;\r\n  animation: slider 10s infinite alternate;\r\n}\r\n\r\n@-webkit-keyframes slider{\r\n  from {\r\n    background-size: 2000px;\r\n    background-position: left top;\r\n  }\r\n  to {\r\n    background-position: right center;\r\n    background-size: 3000px;\r\n  }\r\n}\r\n\r\n@-moz-keyframes slider{\r\n  from {\r\n    background-size: 2000px;\r\n    background-position: left top;\r\n  }\r\n  to {\r\n    background-position: right center;\r\n    background-size: 3000px;\r\n  }\r\n}\r\n\r\n@-o-keyframes slider{\r\n  from {\r\n    background-size: 2000px;\r\n    background-position: left top;\r\n  }\r\n  to {\r\n    background-position: right center;\r\n    background-size: 3000px;\r\n  }\r\n}\r\n\r\n@keyframes slider{\r\n  from {\r\n    background-size: 2000px;\r\n    background-position: left top;\r\n  }\r\n  to {\r\n    background-position: right center;\r\n    background-size: 3000px;\r\n  }\r\n}\r\n`;\r\n\r\nconst verticalCodes = `\r\n#ptk_bar {\r\n  background: black url(https://cdn.shopify.com/s/files/1/1036/4113/t/33/assets/aramid.jpg?225834);\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  animation: slider 7s infinite alternate;\r\n}\r\n\r\n@-webkit-keyframes slider{\r\n  from {\r\n    background-size: cover;\r\n    background-position: center top;\r\n  }\r\n  to {\r\n    background-size: cover;\r\n    background-position: center bottom;\r\n  }\r\n}\r\n\r\n@-moz-keyframes slider{\r\n  from {\r\n    background-size: cover;\r\n    background-position: center top;\r\n  }\r\n  to {\r\n    background-size: cover;\r\n    background-position: center bottom;\r\n  }\r\n}\r\n\r\n@-o-keyframes slider{\r\n  from {\r\n    background-size: cover;\r\n    background-position: center top;\r\n  }\r\n  to {\r\n    background-size: cover;\r\n    background-position: center bottom;\r\n  }\r\n}\r\n\r\n@keyframes slider{\r\n  from {\r\n    background-size: cover;\r\n    background-position: center top;\r\n  }\r\n  to {\r\n    background-size: cover;\r\n    background-position: center bottom;\r\n  }\r\n}\r\n`;\r\n\r\nfunction TextArea(props){\r\n  return (\r\n    <Card.Section>\r\n      <div style={{fontSize:'16px',padding:'0 0 7px 0',textTransform:'capitalize'}}>{props.type}</div>\r\n      <div style={{fontSize:'14px',padding:'0 0 4px 0'}}>&lt;{props.type}&gt;</div>\r\n      <textarea \r\n        rows=\"10\" cols=\"80\" placeholder=\"Please put your custom codes here...\" \r\n        style={{border:'1px solid #bbb',borderRadius:'5px',width:'calc(100% - 2em)',marginBottom:'5px'}} \r\n        onChange={(evt) => {\r\n          evt.persist();\r\n          props.handleCustomCode(evt.nativeEvent.target.value,props.type)\r\n        }}\r\n        className=\"styleTextarea\"\r\n      >{props.customCode}</textarea>\r\n      <div style={{fontSize:'14px'}}>&lt;/{props.type}&gt;</div>\r\n    </Card.Section>\r\n  )\r\n}\r\n\r\nclass CustomCodePage extends React.Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      customCode:'',\r\n      sectionActive:true,\r\n    };\r\n    this.horizontalZoom = React.createRef();\r\n    this.verticalScroll = React.createRef();\r\n    this.handleCustomCode = this.handleCustomCode.bind(this);\r\n    this.injectCodeAfterClicking = this.injectCodeAfterClicking.bind(this);\r\n    this.bindClickingEvent = this.bindClickingEvent.bind(this);\r\n    this.renderTextFrmProps = this.renderTextFrmProps.bind(this);\r\n  }\r\n\r\n  handleCustomCode(val,type){\r\n    const self = this;\r\n    let scriptTxt, styleTxt;\r\n    switch(type){\r\n      case 'style':\r\n        styleTxt = val;\r\n        break;\r\n      case 'script':\r\n        scriptTxt = val;\r\n        break;\r\n    }\r\n    if(this.state.timer){\r\n      clearTimeout(this.state.timer);\r\n    };\r\n    this.setState(()=>{\r\n      let timerN = setTimeout(() => {\r\n        self.props.handleCustomCode(scriptTxt,styleTxt);\r\n      }, 5000);\r\n      return {timer:timerN}\r\n    });\r\n  };\r\n\r\n  componentDidMount(){\r\n    this.bindClickingEvent();\r\n    this.renderTextFrmProps();\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    this.bindClickingEvent();\r\n  }\r\n\r\n  injectCodeAfterClicking(el,type){\r\n    if(!el) return;\r\n    const self= this;\r\n    let style = document.querySelector('.styleTextarea');\r\n    let script = document.querySelector('.scriptTextarea');\r\n    switch(type){\r\n      case 'horizontal':\r\n        style.value = horizontalCodes;\r\n        self.handleCustomCode(horizontalCodes,'style');\r\n        break;\r\n      case 'vertical':\r\n        style.value = verticalCodes;\r\n        self.handleCustomCode(verticalCodes,'style');\r\n    }\r\n  }\r\n\r\n  bindClickingEvent(){\r\n    const h_z = this.horizontalZoom.current;\r\n    const v_s = this.verticalScroll.current;\r\n    const self = this;\r\n    if(h_z && v_s){\r\n      h_z.addEventListener('click',function(e){\r\n        self.injectCodeAfterClicking(e.target,'horizontal')\r\n      });\r\n      v_s.addEventListener('click',function(e){\r\n        self.injectCodeAfterClicking(e.target,'vertical')\r\n      })\r\n    }\r\n  }\r\n\r\n  renderTextFrmProps(){\r\n    let styleArea = document.querySelector('.styleTextarea');\r\n    let scriptArea = document.querySelector('.scriptTextarea');\r\n    if(this.props.customCode && this.props.customCode.style && this.props.customCode.style.length > 0){\r\n      styleArea.value = this.props.customCode.style;\r\n    }\r\n    if(this.props.customCode && this.props.customCode.script && this.props.customCode.script.length > 0){\r\n      scriptArea.value = this.props.customCode.script;\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <Card>\r\n        <SectionHead \r\n          handleToggle={(active) => this.setState({sectionActive:active})}\r\n          headerTxt='Custom code'\r\n          sectionActive={this.state.sectionActive}\r\n        />\r\n        <Collapsible open={this.state.sectionActive} >\r\n          <FormLayout>\r\n            <TextArea \r\n              handleCustomCode={this.handleCustomCode} \r\n              type=\"style\"\r\n              customCode={this.props.customCode.style}\r\n            />\r\n            <TextArea \r\n              handleCustomCode={this.handleCustomCode}\r\n              type=\"script\"\r\n              customCode={this.props.customCode.script}\r\n            />\r\n            <Card.Section>\r\n              <TextContainer>\r\n                <div><span className=\"codeChoices\" ref={this.horizontalZoom}>Horizontal Zoom</span>:Good for displaying a pattern based background image</div>\r\n                <div><span className=\"codeChoices\" ref={this.verticalScroll}>Vertical Scroll</span>:A Background image scrolled vertically. Good for showing a product image.</div>\r\n              </TextContainer>\r\n            </Card.Section>\r\n          </FormLayout>\r\n        </Collapsible>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CustomCodePage;"]},"metadata":{},"sourceType":"module"}