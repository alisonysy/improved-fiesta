{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query {\\n    shop{\\n      id\\n      name\\n      shipsToCountries\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport { Banner, Card } from '@shopify/polaris';\nvar GET_CLIENT_ID = gql(_templateObject());\n\nvar BarList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BarList, _React$Component);\n\n  function BarList(props) {\n    var _this;\n\n    _classCallCheck(this, BarList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BarList).call(this, props));\n    _this.state = {\n      shippingCountries: []\n    };\n    _this.handleEdit = _this.handleEdit.bind(_assertThisInitialized(_this));\n    _this.handleTargetCountries = _this.handleTargetCountries.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(BarList, [{\n    key: \"handleEdit\",\n    value: function handleEdit(e, id) {\n      console.log(id);\n    }\n  }, {\n    key: \"handleTargetCountries\",\n    value: function handleTargetCountries(c) {\n      this.setState({\n        shippingCountries: c\n      }, function () {\n        this.props.handleTargetCountries(c);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Query, {\n        query: GET_CLIENT_ID\n      }, function (_ref) {\n        var data = _ref.data,\n            loading = _ref.loading,\n            error = _ref.error;\n        if (loading) return __jsx(\"div\", null, \"Loading...\");\n        if (error) return __jsx(Banner, {\n          status: \"critical\"\n        }, error.message);\n        console.log(data);\n\n        if (!_this2.state.shippingCountries[0]) {\n          _this2.handleTargetCountries(data.shop.shipsToCountries);\n        } // #toUpdate: to fetch from database\n\n\n        var arrs = [{\n          'name': 'ijji',\n          'geo': 'china',\n          'achievements': 253,\n          'id': 2\n        }, {\n          'name': 'fe',\n          'geo': 'nz',\n          'achievements': 76,\n          'id': 3\n        }];\n        return __jsx(Card, null, __jsx(\"table\", {\n          style: {\n            width: '100%',\n            padding: '2%'\n          }\n        }, __jsx(\"thead\", null, __jsx(\"tr\", null, __jsx(\"th\", null, \"Name\"), __jsx(\"th\", null, \"Geo target\"), __jsx(\"th\", null, \"Actions\"), __jsx(\"th\", null, \"Achievements\"))), __jsx(\"tbody\", null, arrs.map(function (item, idx) {\n          return __jsx(\"tr\", {\n            style: {\n              textAlign: 'center',\n              lineHeight: 3\n            },\n            key: idx\n          }, __jsx(\"td\", null, item.name), __jsx(\"td\", null, item.geo), __jsx(\"td\", null, __jsx(\"button\", {\n            onClick: function onClick(e) {\n              return _this2.props.handleEditId(item.id);\n            },\n            style: {\n              borderColor: 'transparent',\n              background: '#000',\n              color: '#fff',\n              borderRadius: 5\n            }\n          }, \"Edit\")), __jsx(\"td\", null, item.achievements));\n        }))));\n      });\n    }\n  }]);\n\n  return BarList;\n}(React.Component);\n\nexport default BarList;","map":{"version":3,"sources":["C:\\Users\\Administrator.SC-201903211547\\projects\\0919\\sample-embedded-app\\components\\barList.js"],"names":["gql","Query","Banner","Card","GET_CLIENT_ID","BarList","props","state","shippingCountries","handleEdit","bind","handleTargetCountries","e","id","console","log","c","setState","data","loading","error","message","shop","shipsToCountries","arrs","width","padding","map","item","idx","textAlign","lineHeight","name","geo","handleEditId","borderColor","background","color","borderRadius","achievements","React","Component"],"mappings":"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","sourcesContent":["import gql from 'graphql-tag';\r\nimport { Query } from 'react-apollo';\r\nimport { Banner, Card } from '@shopify/polaris';\r\n\r\nconst GET_CLIENT_ID = gql`\r\n  query {\r\n    shop{\r\n      id\r\n      name\r\n      shipsToCountries\r\n    }\r\n  }\r\n`;\r\n\r\nclass BarList extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      shippingCountries:[]\r\n    };\r\n    this.handleEdit = this.handleEdit.bind(this);\r\n    this.handleTargetCountries = this.handleTargetCountries.bind(this);\r\n  }\r\n\r\n  handleEdit(e,id){\r\n    console.log(id)\r\n  }\r\n\r\n  handleTargetCountries(c){\r\n    this.setState({shippingCountries:c},function(){\r\n      this.props.handleTargetCountries(c);\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <Query query={GET_CLIENT_ID}>\r\n        {({data, loading, error}) => {\r\n          if(loading) return <div>Loading...</div>;\r\n          if(error) return <Banner status=\"critical\">{error.message}</Banner>\r\n          console.log(data);\r\n          if(!this.state.shippingCountries[0]){\r\n            this.handleTargetCountries(data.shop.shipsToCountries);\r\n          }\r\n          // #toUpdate: to fetch from database\r\n          const arrs = [{'name':'ijji','geo':'china','achievements':253,'id':2},{'name':'fe','geo':'nz','achievements':76,'id':3}]\r\n          \r\n          return (\r\n            <Card>\r\n              <table style={{width:'100%',padding:'2%'}}>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Name</th>\r\n                    <th>Geo target</th>\r\n                    <th>Actions</th>\r\n                    <th>Achievements</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {\r\n                    arrs.map((item, idx)=>{\r\n                      return (\r\n                        <tr style={{textAlign:'center',lineHeight:3}} key={idx}>\r\n                          <td>{item.name}</td>\r\n                          <td>{item.geo}</td>\r\n                          <td><button onClick={(e) => this.props.handleEditId(item.id)} style={{borderColor:'transparent',background:'#000',color:'#fff',borderRadius:5}}>Edit</button></td>\r\n                          <td>{item.achievements}</td>\r\n                        </tr>\r\n                      )\r\n                    })\r\n                  }\r\n                </tbody>\r\n              </table>\r\n            </Card>\r\n          )\r\n        }}\r\n      </Query>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BarList;"]},"metadata":{},"sourceType":"module"}