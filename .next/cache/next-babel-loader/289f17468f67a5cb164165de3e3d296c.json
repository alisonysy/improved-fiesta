{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Card, DatePicker, ChoiceList } from '@shopify/polaris';\nimport { useCallback, useState, useEffect } from 'react';\n\nfunction Choose(props) {\n  var _useState = useState(props.scheduleTime && props.scheduleTime.start ? ['scheduled'] : ['always']),\n      selected = _useState[0],\n      setSelected = _useState[1];\n\n  var handleChange = useCallback(function (value) {\n    setSelected(value);\n\n    if (value.includes('always')) {\n      props.handleTimeSetting({\n        start: null,\n        end: null\n      });\n    }\n  }, [selected]);\n  var renderDatePicker = useCallback(function (isSelected) {\n    return isSelected && __jsx(Schedule, {\n      handleTimeSetting: props.handleTimeSetting,\n      scheduleTime: props.scheduleTime\n    });\n  });\n  return __jsx(ChoiceList, {\n    choices: [{\n      label: 'Always display',\n      value: 'always'\n    }, {\n      label: 'Only display within the giving period of time',\n      value: 'scheduled',\n      renderChildren: renderDatePicker\n    }],\n    selected: selected,\n    onChange: handleChange\n  });\n}\n\n;\n\nfunction SelectTime(props) {\n  useEffect(function () {\n    if (props.scheduleTime) {\n      var start_h = document.getElementById('start_hour'),\n          start_m = document.getElementById('start_min'),\n          end_h = document.getElementById('end_hour'),\n          end_m = document.getElementById('end_min');\n      start_h.value = props.scheduleTime.start.hour;\n      start_m.value = props.scheduleTime.start.min;\n      end_h.value = props.scheduleTime.end.hour;\n      end_m.value = props.scheduleTime.end.min;\n    }\n  }, [props.scheduleTime]);\n  return __jsx(\"div\", {\n    style: {\n      margin: '1em 0'\n    }\n  }, __jsx(\"div\", null, \"Please enter the hour (from 0 to 23) and minute (from 0 to 59) that the display \", __jsx(\"strong\", null, \"starts\"), \":\"), __jsx(\"div\", {\n    style: {\n      marginTop: '.5em'\n    }\n  }, __jsx(\"span\", {\n    style: {\n      marginRight: '.3em'\n    }\n  }, \"Hour:\"), __jsx(\"input\", {\n    id: \"start_hour\",\n    type: \"number\",\n    min: 0,\n    max: 23,\n    style: {\n      marginRight: '1em'\n    }\n  }), __jsx(\"span\", {\n    style: {\n      marginRight: '.3em'\n    }\n  }, \"Minute:\"), __jsx(\"input\", {\n    id: \"start_min\",\n    type: \"number\",\n    min: 0,\n    max: 59\n  })), __jsx(\"div\", {\n    style: {\n      marginTop: '.5em'\n    }\n  }, \"Please enter the hour (from 0 to 23) and minute (from 0 to 59) that the display \", __jsx(\"strong\", null, \"ends\"), \":\"), __jsx(\"div\", {\n    style: {\n      marginTop: '.5em'\n    }\n  }, __jsx(\"span\", {\n    style: {\n      marginRight: '.3em'\n    }\n  }, \"Hour:\"), __jsx(\"input\", {\n    id: \"end_hour\",\n    type: \"number\",\n    min: 0,\n    max: 23,\n    style: {\n      marginRight: '1em'\n    }\n  }), __jsx(\"span\", {\n    style: {\n      marginRight: '.3em'\n    }\n  }, \"Minute:\"), __jsx(\"input\", {\n    id: \"end_min\",\n    type: \"number\",\n    min: 0,\n    max: 59\n  })));\n}\n\nfunction Schedule(props) {\n  var timeStrToDateObj = function timeStrToDateObj(timeObj) {\n    if (timeObj.start && timeObj.start.length > 0) {\n      var start = new Date(timeObj.start);\n      var end = new Date(timeObj.end);\n      return {\n        start: {\n          year: start.getFullYear(),\n          month: start.getMonth(),\n          date: start.getDate(),\n          hour: start.getHours(),\n          min: start.getMinutes()\n        },\n        end: {\n          year: end.getFullYear(),\n          month: end.getMonth(),\n          date: end.getDate(),\n          hour: end.getHours(),\n          min: end.getMinutes()\n        }\n      };\n    }\n\n    return null;\n  };\n\n  var _useState2 = useState(timeStrToDateObj(props.scheduleTime) ? {\n    month: timeStrToDateObj(props.scheduleTime).start.month,\n    year: timeStrToDateObj(props.scheduleTime).start.year\n  } : {\n    month: new Date().getMonth(),\n    year: new Date().getFullYear()\n  }),\n      _useState2$ = _useState2[0],\n      month = _useState2$.month,\n      year = _useState2$.year,\n      setDate = _useState2[1];\n\n  var _useState3 = useState(props.scheduleTime && props.scheduleTime.start ? {\n    start: new Date(props.scheduleTime.start),\n    end: new Date(props.scheduleTime.end)\n  } : {\n    start: new Date(),\n    end: new Date()\n  }),\n      selectedDates = _useState3[0],\n      setSelectedDates = _useState3[1];\n\n  var _useState4 = useState({\n    leftMon: month + 1,\n    rightMon: month + 2\n  }),\n      _useState4$ = _useState4[0],\n      leftMon = _useState4$.leftMon,\n      rightMon = _useState4$.rightMon,\n      setMonth = _useState4[1];\n\n  var handleMonthChange = useCallback(function (month, year) {\n    setDate({\n      month: month,\n      year: year\n    });\n    setMonth({\n      leftMon: month + 1,\n      rightMon: month + 2\n    });\n  }, []);\n\n  var transpileMonth = function transpileMonth(month) {\n    month = '' + month;\n\n    switch (month) {\n      case '1':\n        return 'January';\n        break;\n\n      case '2':\n        return 'Feburary';\n        break;\n\n      case '3':\n        return 'March';\n        break;\n\n      case '4':\n        return 'April';\n\n      case '5':\n        return 'May';\n\n      case '6':\n        return 'June';\n\n      case '7':\n        return 'July';\n\n      case '8':\n        return 'August';\n\n      case '9':\n        return 'September';\n\n      case '10':\n        return 'October';\n\n      case '11':\n        return 'November';\n\n      case '12':\n        return 'December';\n\n      case '13':\n        return 'January';\n    }\n  };\n\n  var _useState5 = useState(timeStrToDateObj(props.scheduleTime) ? {\n    start_h: timeStrToDateObj(props.scheduleTime).start.hour,\n    start_m: timeStrToDateObj(props.scheduleTime).start.min\n  } : {\n    start_h: 0,\n    start_m: 0\n  }),\n      _useState5$ = _useState5[0],\n      start_h = _useState5$.start_h,\n      start_m = _useState5$.start_m,\n      setStartTime = _useState5[1];\n\n  var _useState6 = useState(timeStrToDateObj(props.scheduleTime) ? {\n    end_h: timeStrToDateObj(props.scheduleTime).end.hour,\n    end_m: timeStrToDateObj(props.scheduleTime).end.min\n  } : {\n    end_h: 0,\n    end_m: 0\n  }),\n      _useState6$ = _useState6[0],\n      end_h = _useState6$.end_h,\n      end_m = _useState6$.end_m,\n      setEndTime = _useState6[1];\n\n  var handleTimeSelection = function handleTimeSelection() {\n    var startH = document.getElementById('start_hour'),\n        startM = document.getElementById('start_min'),\n        endH = document.getElementById('end_hour'),\n        endM = document.getElementById('end_min');\n    var startT = {},\n        endT = {};\n    startH.addEventListener('change', function (e) {\n      var num = e.target.valueAsNumber;\n      num > 23 ? startT.hour = 23 : num < 0 ? startT.hour = 0 : startT.hour = num;\n      setStartTime({\n        start_m: start_m,\n        start_h: startT.hour\n      });\n    });\n    startM.addEventListener('change', function (e) {\n      var num = e.target.valueAsNumber;\n      num > 59 ? startT.min = 59 : num < 0 ? startT.min = 0 : startT.min = num;\n      setStartTime({\n        start_h: start_h,\n        start_m: startT.min\n      });\n    });\n    endH.addEventListener('change', function (e) {\n      var num = e.target.valueAsNumber;\n      num > 23 ? endT.hour = 23 : num < 0 ? endT.hour = 0 : endT.hour = num;\n      setEndTime({\n        end_m: end_m,\n        end_h: endT.hour\n      });\n    });\n    endM.addEventListener('change', function (e) {\n      var num = e.target.valueAsNumber;\n      num > 59 ? endT.min = 59 : num < 0 ? endT.min = 0 : endT.min = num;\n      setEndTime({\n        end_h: end_h,\n        end_m: endT.min\n      });\n    });\n  };\n\n  useEffect(function () {\n    var startD = new Date(selectedDates.start);\n    var endD = new Date(selectedDates.end);\n    handleTimeSelection();\n    startD = startD.getFullYear() + '/' + (startD.getMonth() + 1) + '/' + startD.getDate() + ' ' + start_h + ':' + start_m;\n    endD = endD.getFullYear() + '/' + (endD.getMonth() + 1) + '/' + endD.getDate() + ' ' + end_h + ':' + end_m;\n    props.handleTimeSetting({\n      start: startD,\n      end: endD\n    });\n  }, [selectedDates, start_h, start_m, end_h, end_m]);\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    style: {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      justifyContent: 'stretch'\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '50%',\n      textAlign: 'center'\n    }\n  }, transpileMonth(leftMon)), __jsx(\"div\", {\n    style: {\n      width: '50%',\n      textAlign: 'center'\n    }\n  }, transpileMonth(rightMon))), __jsx(DatePicker, {\n    month: month,\n    year: year,\n    onChange: setSelectedDates,\n    onMonthChange: handleMonthChange,\n    selected: selectedDates,\n    multiMonth: true,\n    allowRange: true\n  }), __jsx(SelectTime, {\n    scheduleTime: timeStrToDateObj(props.scheduleTime)\n  }), __jsx(\"div\", null, \"Define the Start Time and End Time of the display period. Must select at least two days.\"));\n}\n\nvar DisplaySchedule =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DisplaySchedule, _React$Component);\n\n  function DisplaySchedule(props) {\n    var _this;\n\n    _classCallCheck(this, DisplaySchedule);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DisplaySchedule).call(this, props));\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(DisplaySchedule, [{\n    key: \"render\",\n    value: function render() {\n      return __jsx(Card.Section, null, __jsx(\"div\", {\n        style: {\n          marginBottom: '1em',\n          fontSize: '1.1em'\n        }\n      }, \"Display schedule:\"), __jsx(Choose, {\n        handleTimeSetting: this.props.handleTimeSetting,\n        scheduleTime: this.props.scheduleTime\n      }));\n    }\n  }]);\n\n  return DisplaySchedule;\n}(React.Component);\n\nexport default DisplaySchedule;","map":{"version":3,"sources":["C:\\Users\\Administrator.SC-201903211547\\projects\\0919\\sample-embedded-app\\snippets\\displaySchedule.js"],"names":["Card","DatePicker","ChoiceList","useCallback","useState","useEffect","Choose","props","scheduleTime","start","selected","setSelected","handleChange","value","includes","handleTimeSetting","end","renderDatePicker","isSelected","label","renderChildren","SelectTime","start_h","document","getElementById","start_m","end_h","end_m","hour","min","margin","marginTop","marginRight","Schedule","timeStrToDateObj","timeObj","length","Date","year","getFullYear","month","getMonth","date","getDate","getHours","getMinutes","setDate","selectedDates","setSelectedDates","leftMon","rightMon","setMonth","handleMonthChange","transpileMonth","setStartTime","setEndTime","handleTimeSelection","startH","startM","endH","endM","startT","endT","addEventListener","e","num","target","valueAsNumber","startD","endD","display","flexFlow","justifyContent","width","textAlign","DisplaySchedule","state","marginBottom","fontSize","React","Component"],"mappings":"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","sourcesContent":["import {Card, DatePicker, ChoiceList} from '@shopify/polaris';\r\nimport {useCallback, useState, useEffect}  from 'react';\r\n\r\nfunction Choose(props){\r\n  const [selected, setSelected] = useState(\r\n    props.scheduleTime && props.scheduleTime.start?\r\n      ['scheduled']\r\n      :\r\n      ['always']\r\n    );\r\n\r\n  const handleChange = useCallback((value) => {\r\n    setSelected(value);\r\n    if(value.includes('always')){\r\n      props.handleTimeSetting({start:null,end:null})\r\n    }\r\n  }, [selected]);\r\n\r\n  const renderDatePicker = useCallback(\r\n    (isSelected) =>\r\n      isSelected && (\r\n        <Schedule \r\n          handleTimeSetting={props.handleTimeSetting}\r\n          scheduleTime={props.scheduleTime}\r\n        />\r\n      )\r\n  )\r\n\r\n  return (\r\n    <ChoiceList\r\n      choices={[\r\n        {label: 'Always display', value: 'always'},\r\n        {label: 'Only display within the giving period of time', value: 'scheduled',renderChildren:renderDatePicker},\r\n      ]}\r\n      selected={selected}\r\n      onChange={handleChange}\r\n    />\r\n  );\r\n};\r\n\r\nfunction SelectTime(props){\r\n  useEffect(()=>{\r\n    if(props.scheduleTime){\r\n      let start_h = document.getElementById('start_hour'),\r\n          start_m = document.getElementById('start_min'),\r\n          end_h = document.getElementById('end_hour'),\r\n          end_m = document.getElementById('end_min');\r\n      start_h.value = props.scheduleTime.start.hour;\r\n      start_m.value = props.scheduleTime.start.min;\r\n      end_h.value = props.scheduleTime.end.hour;\r\n      end_m.value = props.scheduleTime.end.min;\r\n    }\r\n  },[props.scheduleTime])\r\n\r\n  return (\r\n    <div style={{margin:'1em 0'}}>\r\n      <div>Please enter the hour (from 0 to 23) and minute (from 0 to 59) that the display <strong>starts</strong>:</div>\r\n      <div style={{marginTop:'.5em'}}>\r\n        <span style={{marginRight:'.3em'}}>Hour:</span>\r\n        <input \r\n          id=\"start_hour\" \r\n          type='number' \r\n          min={0} \r\n          max={23}  \r\n          style={{marginRight:'1em'}}\r\n        />\r\n        <span style={{marginRight:'.3em'}}>Minute:</span>\r\n        <input id=\"start_min\" type='number' min={0} max={59}/>\r\n      </div>\r\n      <div style={{marginTop:'.5em'}}>Please enter the hour (from 0 to 23) and minute (from 0 to 59) that the display <strong>ends</strong>:</div>\r\n      <div style={{marginTop:'.5em'}}>\r\n        <span style={{marginRight:'.3em'}}>Hour:</span>\r\n        <input id=\"end_hour\" type='number' min={0} max={23}  style={{marginRight:'1em'}}/>\r\n        <span  style={{marginRight:'.3em'}}>Minute:</span>\r\n        <input id=\"end_min\" type='number' min={0} max={59}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Schedule(props){\r\n  const timeStrToDateObj = (timeObj) =>{\r\n    if(timeObj.start && timeObj.start.length > 0){\r\n      let start = new Date(timeObj.start);\r\n      let end = new Date(timeObj.end);\r\n      return {\r\n        start:{\r\n          year: start.getFullYear(),\r\n          month: start.getMonth(),\r\n          date:start.getDate(),\r\n          hour:start.getHours(),\r\n          min:start.getMinutes()\r\n        },\r\n        end:{\r\n          year: end.getFullYear(),\r\n          month: end.getMonth(),\r\n          date:end.getDate(),\r\n          hour:end.getHours(),\r\n          min:end.getMinutes()\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  const [{ month, year }, setDate] = useState(\r\n    timeStrToDateObj(props.scheduleTime)?\r\n      {\r\n        month: timeStrToDateObj(props.scheduleTime).start.month,\r\n        year:timeStrToDateObj(props.scheduleTime).start.year\r\n      }\r\n      :\r\n      {\r\n        month: (new Date()).getMonth(),\r\n        year: (new Date()).getFullYear()\r\n      }\r\n  );\r\n  const [selectedDates, setSelectedDates] = useState(\r\n    props.scheduleTime && props.scheduleTime.start ?\r\n      {\r\n        start: new Date(props.scheduleTime.start),\r\n        end: new Date(props.scheduleTime.end)\r\n      }\r\n      :\r\n      {\r\n      start: new Date(),\r\n      end: new Date()\r\n      }\r\n  );\r\n  const [{leftMon,rightMon},setMonth] = useState({\r\n    leftMon:month+1,\r\n    rightMon:month+2\r\n  });\r\n\r\n\r\n  const handleMonthChange = useCallback((month, year) => {\r\n    setDate({ month, year });\r\n    setMonth({leftMon:month+1,rightMon:month+2})\r\n  }, []);\r\n\r\n  const transpileMonth = (month) => {\r\n    month = ''+month;\r\n    switch(month){\r\n      case '1':\r\n        return 'January';\r\n        break;\r\n      case '2':\r\n        return 'Feburary';\r\n        break;\r\n      case '3':\r\n        return 'March';\r\n        break;\r\n      case '4':\r\n        return 'April';\r\n      case '5':\r\n        return 'May';\r\n      case '6':\r\n        return 'June';\r\n      case '7':\r\n        return 'July';\r\n      case '8':\r\n        return 'August';\r\n      case '9':\r\n        return 'September';\r\n      case '10':\r\n        return 'October';\r\n      case '11':\r\n        return 'November';\r\n      case '12':\r\n        return 'December';\r\n      case '13':\r\n        return 'January';\r\n    }\r\n  };\r\n\r\n  const [{start_h,start_m},setStartTime] = useState(\r\n    timeStrToDateObj(props.scheduleTime)?\r\n      {\r\n        start_h:timeStrToDateObj(props.scheduleTime).start.hour,\r\n        start_m:timeStrToDateObj(props.scheduleTime).start.min\r\n      }\r\n      :\r\n      {\r\n        start_h:0,\r\n        start_m:0\r\n      }\r\n  );\r\n  const [{end_h,end_m},setEndTime] = useState(\r\n    timeStrToDateObj(props.scheduleTime)?\r\n      {\r\n        end_h:timeStrToDateObj(props.scheduleTime).end.hour,\r\n        end_m:timeStrToDateObj(props.scheduleTime).end.min\r\n      }\r\n      :\r\n      {\r\n        end_h:0,\r\n        end_m:0\r\n      }\r\n  )\r\n\r\n  const handleTimeSelection = () => {\r\n    const startH = document.getElementById('start_hour'),\r\n          startM = document.getElementById('start_min'),\r\n          endH = document.getElementById('end_hour'),\r\n          endM = document.getElementById('end_min');\r\n    let startT={}, endT={};\r\n    startH.addEventListener('change',function(e){\r\n      let num = e.target.valueAsNumber;\r\n      num > 23?\r\n        startT.hour = 23\r\n        :\r\n        num < 0?\r\n          startT.hour = 0\r\n          :\r\n          startT.hour = num;\r\n      setStartTime({start_m,start_h:startT.hour});\r\n    });\r\n    startM.addEventListener('change',function(e){\r\n      let num = e.target.valueAsNumber;\r\n      num > 59?\r\n        startT.min = 59\r\n        :\r\n        num < 0?\r\n          startT.min = 0\r\n          :\r\n          startT.min = num;\r\n      setStartTime({start_h,start_m:startT.min});\r\n    });\r\n    endH.addEventListener('change',function(e){\r\n      let num = e.target.valueAsNumber;\r\n      num > 23?\r\n        endT.hour = 23\r\n        :\r\n        num < 0?\r\n          endT.hour = 0\r\n          :\r\n          endT.hour = num;\r\n      setEndTime({end_m,end_h:endT.hour});\r\n    });\r\n    endM.addEventListener('change',function(e){\r\n      let num = e.target.valueAsNumber;\r\n      num > 59?\r\n        endT.min = 59\r\n        :\r\n        num < 0?\r\n          endT.min = 0\r\n          :\r\n          endT.min = num;\r\n      setEndTime({end_h,end_m:endT.min});\r\n    });\r\n  }\r\n\r\n  useEffect(()=>{\r\n    let startD = new Date(selectedDates.start);\r\n    let endD = new Date(selectedDates.end);\r\n    handleTimeSelection();\r\n    startD = startD.getFullYear()+'/'+(startD.getMonth()+1)+'/'+startD.getDate()+' '+start_h+':'+start_m;\r\n    endD = endD.getFullYear()+'/'+(endD.getMonth()+1)+'/'+endD.getDate()+' '+end_h+':'+end_m;\r\n    props.handleTimeSetting({start:startD,end:endD});\r\n  },[selectedDates,start_h,start_m,end_h,end_m]);\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div style={{display:'flex',flexFlow:'row nowrap',justifyContent:'stretch'}}>\r\n        <div style={{width:'50%',textAlign:'center'}}>{transpileMonth(leftMon)}</div>\r\n        <div style={{width:'50%',textAlign:'center'}}>{transpileMonth(rightMon)}</div>\r\n      </div>\r\n      <DatePicker \r\n        month={month} \r\n        year={year} \r\n        onChange={setSelectedDates} \r\n        onMonthChange={handleMonthChange} \r\n        selected={selectedDates} \r\n        multiMonth={true} \r\n        allowRange={true} \r\n      />\r\n      <SelectTime \r\n        scheduleTime={timeStrToDateObj(props.scheduleTime)}\r\n      />\r\n      <div>Define the Start Time and End Time of the display period. Must select at least two days.</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass DisplaySchedule extends React.Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={}\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <Card.Section>\r\n        <div style={{marginBottom:'1em',fontSize:'1.1em'}}>Display schedule:</div>\r\n        <Choose \r\n          handleTimeSetting={this.props.handleTimeSetting}\r\n          scheduleTime={this.props.scheduleTime}\r\n        />\r\n      </Card.Section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DisplaySchedule;"]},"metadata":{},"sourceType":"module"}